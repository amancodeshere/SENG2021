2025-04-06 04:10:21.824 AEST [2547] LOG:  starting PostgreSQL 16.8 (Postgres.app) on aarch64-apple-darwin21.6.0, compiled by Apple clang version 14.0.0 (clang-1400.0.29.102), 64-bit
2025-04-06 04:10:21.829 AEST [2547] LOG:  listening on IPv6 address "::1", port 1111
2025-04-06 04:10:21.829 AEST [2547] LOG:  listening on IPv4 address "127.0.0.1", port 1111
2025-04-06 04:10:21.830 AEST [2547] LOG:  listening on Unix socket "/tmp/.s.PGSQL.1111"
2025-04-06 04:10:21.833 AEST [2550] LOG:  database system was shut down at 2025-04-06 04:10:21 AEST
2025-04-06 04:10:21.834 AEST [2547] LOG:  database system is ready to accept connections
2025-04-06 04:10:58.482 AEST [2582] ERROR:  CREATE DATABASE cannot be executed from a function
2025-04-06 04:10:58.482 AEST [2582] CONTEXT:  SQL statement "CREATE DATABASE seng_db OWNER seng_user"
	PL/pgSQL function inline_code_block line 15 at SQL statement
2025-04-06 04:10:58.482 AEST [2582] STATEMENT:  
	DO $$
	BEGIN
	    -- Create user if not exists
	    IF NOT EXISTS (
	        SELECT FROM pg_catalog.pg_roles WHERE rolname = 'seng_user'
	    ) THEN
	        CREATE ROLE seng_user WITH LOGIN PASSWORD 'Password123';
	    END IF;
	
	
	    -- Create database if not exists
	    IF NOT EXISTS (
	        SELECT FROM pg_database WHERE datname = 'seng_db'
	    ) THEN
	        CREATE DATABASE seng_db OWNER seng_user;
	    END IF;
	
	
	    -- Grant privileges
	    GRANT ALL PRIVILEGES ON DATABASE seng_db TO seng_user;
	END
	$$;
	
